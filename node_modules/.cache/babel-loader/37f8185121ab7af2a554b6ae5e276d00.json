{"ast":null,"code":"var _jsxFileName = \"/home/lucas/Projeto_10_TrackIt/src/components/CompleteHabits/index.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport button from \"../../assets/Vector.png\";\nimport { useContext } from \"react\";\nimport UserContext from '../../context/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CompleteHabits(_ref) {\n  _s();\n\n  let {\n    setHabit,\n    id,\n    name,\n    done,\n    currentSequence,\n    highestSequence\n  } = _ref;\n  const {\n    token,\n    setPercent\n  } = useContext(UserContext);\n  const [checkHabit, setCheckHabit] = useState('');\n  const [ifDone, setIfDone] = useState(done);\n  const [checkColor, setCheckColor] = useState(\"#EBEBEB\");\n  const [attCurrentSequence, setAttCurrentSequence] = useState(currentSequence);\n  const [attHighestSequence, setAttHighestSequence] = useState(highestSequence);\n  const [cont, setCont] = useState(0);\n  let contNum = 0;\n\n  function teste() {\n    for (let i = 0; i < habit.length; i++) {\n      if (habit[i].done === true) {\n        contNum++;\n      }\n    }\n\n    setCont(contNum);\n  }\n\n  console.log(cont);\n\n  if (checkHabit !== '' && ifDone === false) {\n    const promise = axios.post(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${checkHabit}/check`, {}, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    promise.then(response => {\n      console.log(response);\n    });\n    promise.catch(error => {\n      console.log(error);\n    });\n    setCheckHabit('');\n    setIfDone(true);\n    setCheckColor(\"#8FC549\");\n    setAttCurrentSequence(attCurrentSequence + 1);\n    setAttHighestSequence(attHighestSequence + 1);\n  }\n\n  if (checkHabit !== '' && ifDone === true) {\n    const promise = axios.post(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${checkHabit}/uncheck`, {}, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    promise.then(response => {\n      console.log(response);\n    });\n    promise.catch(error => {\n      console.log(error);\n    });\n    setCheckHabit('');\n    setIfDone(false);\n    setCheckColor(\"#EBEBEB\");\n    setAttCurrentSequence(attCurrentSequence - 1);\n    setAttHighestSequence(attHighestSequence - 1);\n  }\n\n  function CheckHAbit() {\n    setCheckHabit(id);\n    console.log(ifDone);\n    console.log(checkHabit);\n    setHabit(done);\n  }\n\n  teste();\n  return /*#__PURE__*/_jsxDEV(HabitCard, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"title-card\",\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"sequence\",\n        children: [\"Sequ\\xEAncia atual: \", /*#__PURE__*/_jsxDEV(Spam, {\n          style: ifDone === true ? {\n            color: \"#8FC549\"\n          } : {\n            color: \"#666666\"\n          },\n          children: [attCurrentSequence, \" dias\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 54\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"sequence\",\n        children: [\"Seu recorde: \", /*#__PURE__*/_jsxDEV(Spam, {\n          style: currentSequence === highestSequence ? {\n            color: \"#8FC549\"\n          } : {\n            color: \"#666666\"\n          },\n          children: [attHighestSequence, \" dias\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: CheckHAbit,\n      onLoad: () => done === true ? setCheckColor(\"#8FC549\") : setCheckColor(\"#EBEBEB\"),\n      check: checkColor,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: button,\n        alt: \"button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 139\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CompleteHabits, \"YcAHx/Ypyb0IMbtdmrpib9x2hnk=\");\n\n_c = CompleteHabits;\nconst HabitCard = styled.div`\n    width: 100%;\n    height: 94px;\n\n    background: #FFFFFF;\n    border-radius: 5px; \n    margin-bottom: 10px;\n    padding: 13px;\n    \n    display: flex;\n    justify-content: space-between;\n    .title-card{\n        font-size: 20px;\n        line-height: 25px;\n\n        color: #666666;\n        margin-bottom: 7px;\n    }\n    .sequence{\n        font-size: 13px;\n        line-height: 16px;\n\n        color: #666666;\n    }\n`;\n_c2 = HabitCard;\nconst Button = styled.button`\n    border: none;\n    border-radius: 5px;\n\n    width: 69px;\n    height: 69px;\n\n    background-color: ${props => props.check};\n`;\n_c3 = Button;\nconst Spam = styled.button`\nborder: none;\nbackground: none;\n`;\n_c4 = Spam;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"CompleteHabits\");\n$RefreshReg$(_c2, \"HabitCard\");\n$RefreshReg$(_c3, \"Button\");\n$RefreshReg$(_c4, \"Spam\");","map":{"version":3,"sources":["/home/lucas/Projeto_10_TrackIt/src/components/CompleteHabits/index.js"],"names":["styled","axios","useState","button","useContext","UserContext","CompleteHabits","setHabit","id","name","done","currentSequence","highestSequence","token","setPercent","checkHabit","setCheckHabit","ifDone","setIfDone","checkColor","setCheckColor","attCurrentSequence","setAttCurrentSequence","attHighestSequence","setAttHighestSequence","cont","setCont","contNum","teste","i","habit","length","console","log","promise","post","headers","Authorization","then","response","catch","error","CheckHAbit","color","HabitCard","div","Button","props","check","Spam"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport button from \"../../assets/Vector.png\"\nimport { useContext } from \"react\";\nimport UserContext from '../../context/UserContext'\n\nexport default function CompleteHabits({setHabit, id, name, done, currentSequence, highestSequence}){\n    const { token, setPercent } = useContext(UserContext);\n    const [checkHabit, setCheckHabit] = useState('')\n    const [ifDone, setIfDone] = useState(done)\n    const [checkColor, setCheckColor] = useState(\"#EBEBEB\")\n    const [attCurrentSequence, setAttCurrentSequence] = useState(currentSequence)\n    const [attHighestSequence, setAttHighestSequence] = useState(highestSequence)\n    const [cont, setCont] = useState(0)\n    let contNum = 0;\n    function teste(){\n        for(let i = 0; i < habit.length; i++){\n            if(habit[i].done === true){\n                contNum++\n            }\n        }\n        setCont(contNum);\n    }\n    console.log(cont)\n    if(checkHabit !== '' && ifDone === false){\n    const promise = axios.post(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${checkHabit}/check`,{},\n        { \n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        }\n        \n    );\n    promise.then (response => {\n        console.log(response);\n    });\n    \n    promise.catch (error => {\n        console.log(error);\n    });\n    setCheckHabit('')\n    setIfDone(true)\n    setCheckColor(\"#8FC549\")\n    setAttCurrentSequence(attCurrentSequence + 1)\n    setAttHighestSequence(attHighestSequence + 1)\n    }\n    if(checkHabit !== '' && ifDone === true){\n        const promise = axios.post(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${checkHabit}/uncheck`,{},\n        { \n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        }\n        \n    );\n    promise.then (response => {\n        console.log(response);\n    });\n    \n    promise.catch (error => {\n        console.log(error);\n    });\n    setCheckHabit('')\n    setIfDone(false)\n    setCheckColor(\"#EBEBEB\")\n    setAttCurrentSequence(attCurrentSequence - 1)\n    setAttHighestSequence(attHighestSequence - 1)\n    }\n    \n    function CheckHAbit(){\n        setCheckHabit(id);\n        console.log(ifDone);\n        console.log(checkHabit);\n        setHabit(done)\n    }\n    teste();\n    return(\n    <HabitCard>\n        <div>\n            <p className='title-card'>{name}</p>\n            <p className='sequence'>Sequência atual: <Spam style={(ifDone === true) ? {color:\"#8FC549\"}:{color:\"#666666\"}}>{attCurrentSequence} dias</Spam></p>\n            <p className='sequence'>Seu recorde: <Spam style={(currentSequence === highestSequence) ? {color:\"#8FC549\"}:{color:\"#666666\"}}>{attHighestSequence} dias</Spam></p>\n        </div>\n        <Button onClick={CheckHAbit} onLoad={()=>(done === true)? setCheckColor(\"#8FC549\"):setCheckColor(\"#EBEBEB\")} check = {checkColor}><img src={button} alt='button'/></Button>\n    </HabitCard>\n    )\n}\n\nconst HabitCard = styled.div`\n    width: 100%;\n    height: 94px;\n\n    background: #FFFFFF;\n    border-radius: 5px; \n    margin-bottom: 10px;\n    padding: 13px;\n    \n    display: flex;\n    justify-content: space-between;\n    .title-card{\n        font-size: 20px;\n        line-height: 25px;\n\n        color: #666666;\n        margin-bottom: 7px;\n    }\n    .sequence{\n        font-size: 13px;\n        line-height: 16px;\n\n        color: #666666;\n    }\n`\nconst Button = styled.button`\n    border: none;\n    border-radius: 5px;\n\n    width: 69px;\n    height: 69px;\n\n    background-color: ${props => props.check};\n`\n\nconst Spam = styled.button`\nborder: none;\nbackground: none;\n`"]},"metadata":{},"sourceType":"module"}